<script type="text/javascript">
    RED.nodes.registerType('matterdoorlock',{
        category: 'Matter',
        color: '#669966',
        icon: "font-awesome/fa-lock",
        inputs:1,
        outputs:1,
        defaults: {
            name: {value:""},
            bridge: { value: "", type: "matterbridge", required: true },
            passthrough: {value: true},
            bat: {value: false}
        },
        label: function() {
            return this.name||"Door Lock";
        },
        paletteLabel: "Door Lock"

    });
</script>

<script type="text/x-red" data-template-name="matterdoorlock">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-config-input-bridge">Bridge</label>
        <input type="text" id="node-input-bridge" style="width:70%;">
    </div>
    <div class="form-row">
        <label for="node-input-passthrough">Passthrough Input msg to Output</label>
        <select type="text" id="node-input-passthrough" style="width:50%;" >
            <option value=true>True</option>
            <option value=false>False</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-bat">Battery</label>
        <input type="checkbox" id="node-input-bat"/>
    </div>
</script>

<script type="text/x-red" data-help-name="matterdoorlock">
    <p>A Bridged Door Lock</p>

    <h3>Inputs</h3>
        <dl class="message-properties">
             <dt>
                 payload.state         
                 <span class="property-type">
                     string | bool | number
                 </span>
             </dt>
             <dd> 
                 Control the state of the lock, accepts either true/fase, "locked/unlocked" or "0/1",<br>
             </dd>
            
        </dl>
    
     <h3>Outputs</h3>
     <dl class="message-properties">
         <dt>
             payload.state         
             <span class="property-type">
                 bool 
             </span>
         </dt>
         <dd> 
             State of the lock
         </dd>
        
    </dl>
    
    <h3>Details</h3>
    Passthrough will control the behaviour of the node in regards to an input, 
    if set to True then the inout msg wil be output with the new state in the payload.
    If set to False then the output will be suppressed.
    Where the devices state is updated by an external matter controller a new msg object will always be output.
</script>
